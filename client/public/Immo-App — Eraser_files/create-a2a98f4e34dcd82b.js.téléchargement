(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5250],{73009:function(e,t,n){"use strict";var r,a=n(2784);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M4.5 6.5L1.328 9.672a2.828 2.828 0 104 4L8.5 10.5m2-2l3.172-3.172a2.829 2.829 0 00-4-4L6.5 4.5m-2 6l6-6",fill:"none",stroke:"currentColor"})))}},35174:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/create",function(){return n(31)}])},34583:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,a=n(52322),i=n(2784),o=n(3468),c=n(43567),l=n.n(c);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(s(r={},o.hT.CREATE_SURVEY_INCOMPLETE,[o.lp.CREATE_TEAM,o.lp.INVITE_MEMBERS,o.lp.PREFERENCES,o.lp.USE_CASES,o.lp.TOOLS]),s(r,o.hT.CREATE_SURVEY_COMPLETE,[o.lp.CREATE_TEAM,o.lp.INVITE_MEMBERS]),s(r,o.hT.JOIN_EXISTING_TEAM,[o.lp.PREFERENCES,o.lp.USE_CASES,o.lp.TOOLS]),r),f=function(e){var t=e.step,n=e.flow,r=void 0===n?o.hT.CREATE_SURVEY_INCOMPLETE:n,i=u[r];return(0,a.jsxs)("div",{className:l().signUpStepInfo,children:[String(i.indexOf(t)+1)," of ",i.length]})},m=(0,i.memo)(f)},9211:function(e,t,n){"use strict";n.d(t,{My:function(){return _},Qb:function(){return T},p9:function(){return y}});var r=n(94776),a=n.n(r),i=n(5632),o=n.n(i),c=n(57120),l=n(66700),s=n(19785);function u(e){(0,s.Z)(1,arguments);var t=(0,l.Z)(e),n=t.getTime();return n}function f(e){return(0,s.Z)(1,arguments),Math.floor(u(e)/1e3)}var m=n(7878);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v={defaultTTL:86400},h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;d(this,e),this._storage=t,this._options=n}var t=e.prototype;return t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._options.defaultTTL,r=f(new Date),a={value:t,exp:r+n};this._storage.setItem(e,a)},t.getItem=function(e){var t=this._storage.getItem(e);if(null==t||"object"!==typeof t)return t;if(!Reflect.has(t,"value")||!Reflect.has(t,"exp"))return console.warn('ExpiryLocalStorage.getItem("'.concat(e,'") - data is malformed'),t),null;var n=f(new Date);return n>t.exp?(console.debug('ExpiryLocalStorage.getItem("'.concat(e,'") - data has expired ').concat(n-t.exp," seconds ago")),this._storage.removeItem(e),null):t.value},t.removeItem=function(e){this._storage.removeItem(e)},t.clear=function(){this._storage.clear()},e}(),p=new h(m.J);function E(e,t,n,r,a,i,o){try{var c=e[i](o),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){E(i,r,a,o,c,"next",e)}function c(e){E(i,r,a,o,c,"throw",e)}o(void 0)}))}}var b="auth/redirect";function y(e){p.setItem(b,e,900)}function _(){return p.getItem(b)}function w(){p.removeItem(b)}function T(e,t){return x.apply(this,arguments)}function x(){return(x=g(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_(),console.debug("Redirect to ".concat(null!==r&&void 0!==r?r:t)),!r){e.next=9;break}return w(),c.Z.trackEvent("login-page","redirect_to_saved_path",{source:n,url:r,workspaceId:r.split("/")[2]}),e.next=7,o().replace(r);case 7:e.next=11;break;case 9:return e.next=11,o().replace(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},31:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var r=n(52322),a=n(2784),i=n(5632),o=n(68732),c=n(14898),l=n(70265),s=n(3468),u=n(24165),f=n(57120),m=n(48432),d=n(34583),v=n(63955),h=n(11943),p=n(14113),E=n(3559),g=n(82602),b=n(60306),y=n(4601);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}var T,x=function(e){var t=e.className,n=e.onTeamCreated,a=(0,v.cI)({reValidateMode:"onChange"}),i=a.register,o=a.formState,c=a.handleSubmit,l=o.errors,s=o.submitCount,u=(0,h.K)({onSuccess:n}),f=u.canCreateTeam,m=u.isLoadingCreateTeamCheck,d=u.handleCreateTeam,_=u.error,T=u.loading,x=u.defaultTeamName;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{id:"create-team-form",onSubmit:c(d),children:(0,r.jsx)(g.Z,{className:t,children:(0,r.jsx)(p.Z,w({size:p.Z.Sizes.LARGE,label:"Team Name",placeholder:"Team Name",autoFocus:!0,defaultValue:x},i("name",{required:!0,minLength:1,maxLength:64}),{error:l.name,touched:s>0}))})}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(E.ZP,{form:"create-team-form","data-testid":"create-team-btn",variant:E.ZP.Variants.REGULAR,size:E.ZP.Sizes.X_LARGE,isLoading:T,disabled:!f||m,type:"submit",children:"Continue"})}),(0,r.jsx)(y.Z,{error:null===_||void 0===_?void 0:_.message})]})},j=(0,a.memo)(x);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var I,O=function(e){return a.createElement("svg",S({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T||(T=a.createElement("g",{fill:"var(--green-success)"},a.createElement("path",{d:"M5.5 0a3.499 3.499 0 100 6.996A3.499 3.499 0 105.5 0zM3.5 8.994a3.5 3.5 0 00-3.5 3.5v2.497h11v-2.497a3.5 3.5 0 00-3.5-3.5h-4zM12.5 10H12v5h3v-2.5a2.5 2.5 0 00-2.5-2.5z"}),a.createElement("path",{d:"M11.5 4a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"}))))},C=function(e){var t=e.onTeamCreated,n=(0,u.Z)(),i=(0,c.aF)(),o=!!(null===i||void 0===i?void 0:i.surveyData);return(0,a.useEffect)((function(){f.Z.trackEvent("team_creation","step",{name:"team_name"})}),[]),(0,r.jsxs)(m.Z,{label:"Team Name",labelIcon:(0,r.jsx)(O,{}),title:"What should we call your team?",footer:(null===n||void 0===n?void 0:n.length)?(0,r.jsxs)(r.Fragment,{children:["Or ",(0,r.jsx)("a",{href:"/team/join",children:"join existing team"})," instead"]}):null,children:[(0,r.jsx)("p",{children:"You can always change this later from settings."}),(0,r.jsx)(j,{onTeamCreated:t}),(0,r.jsx)(d.Z,{step:s.lp.CREATE_TEAM,flow:o?s.hT.CREATE_SURVEY_COMPLETE:s.hT.CREATE_SURVEY_INCOMPLETE})]})},L=(0,a.memo)(C),R=n(30039),Z=n(11929),M=n(59065),P=n(7305),k=n(66924),A=n(20407),N=n(9211),V=n(27331),U=n(17559),z=n(9605),F=n(73009),B=n(46582);function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}var Y=function(e){return a.createElement("svg",G({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),I||(I=a.createElement("g",{fill:"var(--green-success)"},a.createElement("path",{d:"M15.454.71a.5.5 0 01-.1.144L5.9 10.306l2.67 4.451a.5.5 0 00.889-.06L15.454.71zM5.194 9.6L.743 6.928a.5.5 0 01.06-.889L14.793.045a.5.5 0 00-.146.101L5.194 9.6z"}))))},D=n(78089),X=n.n(D);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){K(e,t,n[t])}))}return e}var J=function(e){var t=e.teamId,n=(0,i.useRouter)(),o=(0,U.Z)(),l=(0,z.Z)(),u=(0,c.aF)(),h=!!(null===u||void 0===u?void 0:u.surveyData),p=(0,V._)({entityType:M.FU.Team,entityId:t}),y=(0,v.cI)({mode:"onSubmit"}),_=y.register,w=y.formState,T=y.handleSubmit,x=y.reset;(0,a.useEffect)((function(){f.Z.trackEvent("team_creation","step",{name:"invite"})}),[]),(0,a.useEffect)((function(){p.isEnabled||p.onTurnOn()}),[p.isEnabled,p.onTurnOn]);var j=(0,a.useCallback)((function(){f.Z.trackEvent("team_share_dialog","copy_link_click"),o(p.inviteLink)}),[p.inviteLink]),S=(0,a.useCallback)((function(){h?(0,N.Qb)("/dashboard/all","team_create"):n.push("/user/survey")}),[h,n.push]),I=(0,Z.UK)((function(e){var n=e.email;l.promise((0,A.Z)({type:M.PA.Email,inviteTo:M.FU.Team,status:M.aj.Pending,teamId:t,inviterId:u.id,inviteeEmail:n},"team_creation"),{loading:"Inviting ".concat(n),success:"Invitation sent to ".concat(n),error:function(e){return(0,k.Tb)(new Error("Failed to invite user",{cause:e})),"Invitation sending failed"}}),x()})).execute;return(0,r.jsxs)(m.Z,{className:X().inviteMembersView,label:"Invite Teammates",labelIcon:(0,r.jsx)(Y,{}),title:"Who do you collaborate with?",children:[(0,r.jsx)("p",{children:"Invite teammates. Everyone will have access to the same dashboard"}),(0,r.jsx)("form",{onSubmit:T(I),children:(0,r.jsxs)(g.Z,{children:[(0,r.jsx)(B.Z,q({size:B.Z.Sizes.LARGE,label:"Invite Teammate",placeholder:"Email address",type:"email",autoComplete:"email"},_("email",{required:!0,validate:P.Le}),{button:(0,r.jsx)(E.ZP,{className:X().inviteBtn,size:E.ZP.Sizes.LARGE,disabled:!w.isValid,onClick:T(I),children:"Invite"}),autoFocus:!0})),(0,r.jsx)("p",{children:(0,r.jsxs)("a",{className:X().copyLink,onClick:j,children:[(0,r.jsx)(F.Z,{}),"Copy invite link"]})})]})}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(E.ZP,{"data-testid":"end-invite-members-btn",size:E.ZP.Sizes.X_LARGE,onClick:S,children:h?"Create Team":"Continue"})}),(0,r.jsx)(d.Z,{step:s.lp.INVITE_MEMBERS,flow:h?s.hT.CREATE_SURVEY_COMPLETE:s.hT.CREATE_SURVEY_INCOMPLETE})]})},Q=(0,a.memo)(J);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=function(){var e=(0,a.useState)(),t=e[0],n=e[1],s=H((0,o.p3)(),2),u=(s[0],s[1]),f=(0,i.useRouter)(),m=(0,c.aF)(),d=(0,a.useCallback)((function(e){u(e.id),n(e)}),[u]);return f.isReady&&m?(0,r.jsx)(l.Z,{hideSplashOnLoad:!0,children:(0,r.jsx)(R.Z,{staticLogo:!0,children:t?(0,r.jsx)(Q,{teamId:t.id}):(0,r.jsx)(L,{onTeamCreated:d})})}):null}},78089:function(e){e.exports={inviteMembersView:"InviteMembersView_inviteMembersView__5KFON",copyLink:"InviteMembersView_copyLink__31kg8",inviteBtn:"InviteMembersView_inviteBtn__fp20_"}},43567:function(e){e.exports={signUpStepInfo:"SignUpStepInfo_signUpStepInfo__FGUMO"}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,2888,179],(function(){return t(412),t(35174)}));var n=e.O();_N_E=n}]);