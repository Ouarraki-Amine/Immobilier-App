(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6543],{63090:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/join",function(){return n(82446)}])},9211:function(e,t,n){"use strict";n.d(t,{My:function(){return b},Qb:function(){return E},p9:function(){return _}});var r=n(94776),a=n.n(r),o=n(5632),i=n.n(o),u=n(57120),c=n(66700),s=n(19785);function l(e){(0,s.Z)(1,arguments);var t=(0,c.Z)(e),n=t.getTime();return n}function f(e){return(0,s.Z)(1,arguments),Math.floor(l(e)/1e3)}var m=n(7878);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h={defaultTTL:86400},p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;v(this,e),this._storage=t,this._options=n}var t=e.prototype;return t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._options.defaultTTL,r=f(new Date),a={value:t,exp:r+n};this._storage.setItem(e,a)},t.getItem=function(e){var t=this._storage.getItem(e);if(null==t||"object"!==typeof t)return t;if(!Reflect.has(t,"value")||!Reflect.has(t,"exp"))return console.warn('ExpiryLocalStorage.getItem("'.concat(e,'") - data is malformed'),t),null;var n=f(new Date);return n>t.exp?(console.debug('ExpiryLocalStorage.getItem("'.concat(e,'") - data has expired ').concat(n-t.exp," seconds ago")),this._storage.removeItem(e),null):t.value},t.removeItem=function(e){this._storage.removeItem(e)},t.clear=function(){this._storage.clear()},e}(),d=new p(m.J);function g(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,u,"next",e)}function u(e){g(o,r,a,i,u,"throw",e)}i(void 0)}))}}var w="auth/redirect";function _(e){d.setItem(w,e,900)}function b(){return d.getItem(w)}function j(){d.removeItem(w)}function E(e,t){return y.apply(this,arguments)}function y(){return(y=x(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b(),console.debug("Redirect to ".concat(null!==r&&void 0!==r?r:t)),!r){e.next=9;break}return j(),u.Z.trackEvent("login-page","redirect_to_saved_path",{source:n,url:r,workspaceId:r.split("/")[2]}),e.next=7,i().replace(r);case 7:e.next=11;break;case 9:return e.next=11,i().replace(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},82446:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r,a=n(52322),o=n(5632),i=n(70265),u=n(30039),c=n(94776),s=n.n(c),l=n(2784),f=n(17003),m=n(9605),v=n(14898),h=n(68732),p=n(68056),d=n(24165),g=n(9211),x=n(3559),w=n(48432),_=n(99710),b=n(60306);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var E=function(e){return l.createElement("svg",j({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("g",{fill:"var(--green-success)"},l.createElement("path",{d:"M6 0a3.499 3.499 0 100 6.996A3.499 3.499 0 106 0zM4 8.994a3.5 3.5 0 00-3.5 3.5v2.497h11v-2.497a3.5 3.5 0 00-3.5-3.5H4zM13 10h-.5v5h3v-2.5A2.5 2.5 0 0013 10z"}),l.createElement("path",{d:"M12 4a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"}))))},y=n(58547),T=n.n(y);function Z(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,a)}var I=function(){var e=(0,l.useState)(),t=e[0],n=e[1],r=(0,m.Z)(),i=(0,o.useRouter)(),u=(0,d.Z)(),c=(0,v.aF)(),j=((0,h.mZ)(),(0,f.Z)(p.Z)),y=(0,l.useRef)();(0,l.useEffect)((function(){u&&(u.length?clearTimeout(y.current):y.current=setTimeout((function(){i.replace("/team/create")}),500))}),[u,i.replace]);var I=(0,l.useCallback)(function(){var e,n=(e=s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t&&c){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.promise(j.execute(t,c.id,{origin:"page",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"});case 5:if(c.surveyData){e.next=8;break}return i.push("/user/survey"),e.abrupt("return");case 8:(0,g.Qb)("/dashboard/all","team_join");case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Z(o,r,a,i,u,"next",e)}function u(e){Z(o,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[t,c,i.push,j.execute]);return u?(0,a.jsxs)(w.Z,{className:T().joinExistingTeamView,label:"Join Team",labelIcon:(0,a.jsx)(E,{}),title:"Join your teammates",children:[(0,a.jsx)(_.D,{teamsToJoin:u}),(0,a.jsx)("form",{id:"join-team-form",onSubmit:I,children:(0,a.jsx)(_.Z,{className:T().teams,onSelectionChange:n,teamsToJoin:u})}),(0,a.jsx)(b.Z,{children:(0,a.jsx)(x.ZP,{form:"join-team-form",variant:x.ZP.Variants.REGULAR,size:x.ZP.Sizes.X_LARGE,disabled:!t,"data-testid":"join-team-button",children:"Join Team"})})]}):null},k=(0,l.memo)(I),J=function(){return(0,o.useRouter)().isReady?(0,a.jsx)(i.Z,{hideSplashOnLoad:!0,children:(0,a.jsx)(u.Z,{staticLogo:!0,children:(0,a.jsx)(k,{})})}):null}},58547:function(e){e.exports={joinExistingTeamView:"JoinExistingTeamView_joinExistingTeamView___aYZj",teams:"JoinExistingTeamView_teams__cOIdt"}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,2888,179],(function(){return t(412),t(63090)}));var n=e.O();_N_E=n}]);